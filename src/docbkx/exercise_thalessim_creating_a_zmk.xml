<?xml version="1.0"?>
<section xml:id="exercise_thalessim_creating_a_zmk"
      version="5.0" xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:db="http://docbook.org/ns/docbook">

	<title>Creating a Zone Master Key (ZMK)</title>
    
	<para>
		In this exercise, we create a Zone Master Key (ZMK) using console commands.
	</para>
	
	<para>
		The ZMK is distributed manually as components.
		To create the ZMK, we first create three ZMK components.
	</para>
	
	<section><title>Generate the ZMK Components</title>
	
	<para>
		Generate three ZMK components using the console command <command>Generate Component (GC)</command>.  
		Repeat the command three times as shown below:
	</para>
	
	<para>
		TODO: describe the various command options and how to choose which option values to use.
	</para>	
	
<db:programlisting>
<db:command>GC</db:command>
Key length [1,2,3]: <command>2</command>
Key Type: <command>000</command>
Key Scheme: <command>U</command>
Clear Component: 79CD 2380 9B4F C1C4 7F9E FB2A DF2A 674A
Encrypted Component: U 1BA5 185A FCF1 5A1B 274B E1E0 03B4 7C2A
Key check value: 7A5B C7
<command>GC</command>
Key length [1,2,3]: <command>2</command>
Key Type: <command>000</command>
Key Scheme: <command>U</command>
Clear Component: 0157 B3DF 6116 3402 372C 54FD 62F2 1C91
Encrypted Component: U FCE4 7AF7 FFF8 9F40 2407 A35A F063 D3E1
Key check value: 1E79 CB
<command>GC</command>
Key length [1,2,3]: <command>2</command>
Key Type: <command>000</command>
Key Scheme: <command>U</command>
Clear Component: 7AEA B5A4 1A9E 9B68 EF80 494C 0819 4ADA
Encrypted Component: U EE8D 4F9E C8B2 ADF4 9CD2 F0D2 7F5C 95C5
Key check value: 277A 5F
</db:programlisting>
	</section>	
  
	<section><title>Generate the ZMK from the components</title>
	
	<para>
		This step uses the <command>FK</command> command to generate the ZMK from the three ZMK components 
		previously generated:
	</para>
	
	<para>
		TODO: describe the various command options and how to choose which option values to use.
	</para>
	
<db:programlisting>
<command>FK</command>
Key length [1,2,3]: <command>2</command>
Key Type: <command>000</command>
Key Scheme: <command>U</command>
Component type [X,H,E,S]: <command>E</command>
Enter number of components (2-9): <command>3</command>
Enter component #1: U 1BA5 185A FCF1 5A1B 274B E1E0 03B4 7C2A
Enter component #2: U FCE4 7AF7 FFF8 9F40 2407 A35A F063 D3E1
Enter component #3: U EE8D 4F9E C8B2 ADF4 9CD2 F0D2 7F5C 95C5
Encrypted key: U 104C 4216 A751 FEEE FF55 698B 26C5 7789
Key check value: BA0F C3
</db:programlisting>
	</section>	  
 </section>